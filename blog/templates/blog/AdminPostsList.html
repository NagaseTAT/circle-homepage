{% extends "blog/base.html" %}
{% block content %}
<head>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script>
            var column = 0;
            $(function () {
              "use strict";
              $('.post-check').click(function () {
                //data-columns(post.pk)を取得
                column=$(this).attr('data-columns')
                console.log(column);
              });
            });
            function delete(){
                console.log(column);
                location.href='/adminPostsDelete/' + column + '/'
            }
    </script>
</head>
ADMIN POSTS LIST 投稿一覧</br>
<p><a href = "{% url 'postForm'%}">新規投稿</a></p>
</br>
{% for post in posts %}
    {{post.title}}</br>
    {{post.created_date}}<br>
    {{post.published_date}}<br>
    <a href="{% url 'adminPostsRegister' post.pk %}">編集</a>
    <a href="{% url 'adminPostsDelete' post.pk %}">削除</a>
    <!-- ボタン -->
    <button type="button" class="post-check" data-toggle="modal" data-target="#sampleA" data-columns="{{ post.pk }}" > 削除Modal Open</button>

    <!-- モーダルダイアログ -->
    <div class="modal fade" id="sampleA" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">

          <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>×</span></button>
          <h4 class="modal-title">Modal Window</h4>
          </div>

          <div class="modal-body">
          削除してもよろしいですか？
          </div>

          <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">閉じる</button>
          <button type="button" class="btn btn-primary"　onclick="delete()">保存</button>
          </div>

        </div><!-- modal-content -->
      </div><!-- modal-dialog -->
    </div><!-- modal fade -->

    </br></br>
{% endfor %}
{% endblock %}